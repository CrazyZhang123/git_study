
# pandas 常用 is/not 类函数整理表（含字符串空值检测）

| 函数名称                  | 核心功能                                  | 适用数据类型                | 关键特点/注意事项                                                                 | 典型使用场景                          |
|---------------------------|-------------------------------------------|-----------------------------|----------------------------------------------------------------------------------|---------------------------------------|
| **缺失值通用检测**        |                                           |                             |                                                                                  |                                       |
| `pd.isna()`<br>`df.isna()`<br>`s.isna()` | 检测是否为**缺失值**（含 NaN、None、NaT、空字符串） | 数值、字符串、时间等所有类型 | 1. 覆盖所有缺失值场景，兼容性最强；<br>2. 返回布尔型对象（与原数据同形状）        | 统计缺失值数量、定位缺失值位置        |
| `pd.notna()`<br>`df.notna()`<br>`s.notna()` | 检测是否**不是缺失值**（有效数据）        | 数值、字符串、时间等所有类型 | 1. 与 `isna()` 完全相反；<br>2. 比 `~isna()` 更简洁，推荐用于筛选有效数据        | 筛选无缺失的有效数据                  |
| **数值型特殊检测**        |                                           |                             |                                                                                  |                                       |
| `pd.isnan()`<br>`s.isnan()`               | 检测是否为**NaN（非数值）**                | 仅数值型（int/float）       | 1. 仅识别 NaN，无法识别 None、空字符串（非数值类型会报错）；<br>2. 是 `isna()` 的子集 | 精确区分数值型缺失（NaN）与其他缺失    |
| `pd.isinf()`<br>`s.isinf()`               | 检测是否为**无穷大值**（正无穷 inf/负无穷 -inf） | 仅数值型（int/float）       | 1. 仅识别无穷大，不识别 NaN 或正常数值；<br>2. 常用于处理计算异常值              | 定位除法零错误等产生的无穷大值        |
| `pd.notinf()`<br>`s.notinf()`             | 检测是否**不是无穷大值**                  | 仅数值型（int/float）       | 1. 与 `isinf()` 完全相反；<br>2. 正常数值和 NaN 均返回 True                      | 筛选排除无穷大后的正常数值/缺失值      |
| **字符串空值检测**        |                                           |                             |                                                                                  |                                       |
| `s.str == ''`                | 检测字符串是否为**空字符串**（不含空格）  | 仅字符串型 Series           | 1. 严格匹配空字符串（`''`），不包括空格；<br>2. 对非字符串类型（如数值）会返回 False | 筛选纯空字符串（无任何字符）          |
| `s.str.isspace()`            | 检测字符串是否为**空白字符串**（仅含空格/制表符等） | 仅字符串型 Series           | 1. 匹配全空格字符串（`'   '`）、制表符（`'\t'`）等；<br>2. 空字符串（`''`）返回 False | 筛选纯空格/空白字符的无效字符串       |
| `s.str.strip() == ''`        | 检测字符串**去除首尾空格后是否为空**      | 仅字符串型 Series           | 1. 同时覆盖空字符串（`''`）和空白字符串（`'   '`）；<br>2. 最全面的字符串空值检测方式 | 统一处理空字符串和空白字符串（推荐）  |


### 补充说明：字符串空值检测的优先级
处理字符串空值时，推荐按以下优先级选择方法：
1. 若需**同时排除空字符串和空白字符串**（最常用场景）：用 `s.str.strip() == ''`  
2. 若需**仅排除纯空字符串**（保留空格字符串）：用 `s.str == ''`  
3. 若需**仅排除纯空格字符串**（保留空字符串）：用 `s.str.isspace()`  

示例：
```python
s = pd.Series(["", "   ", "test", "  a  ", None])
print(s.str.strip() == '')  # 检测所有空/空白字符串 → [True, True, False, False, NaN]
```