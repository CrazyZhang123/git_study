
### 1、1112-1427测试
gemini2.5 pro
调整 lambda 权重以解决冲突，并增大 batch_size。

--lambda_mmd 10.0
--lambda_sparse 0.01
--lambda_pos 0.9 (不变)
--lambda_ortho 0.1 (不变)
--batch_size 256 (或 512，取决于你的显存)

1112-1427
```bash
python steering_928.py \
    --model_name llama3.1_8B \
	--layer 14 \
	--save_path checkpoints/llama3.1_8B_L14_mat_steer_1427.pt\
	--batch_size 256 \
	--epochs 100 \
	--lr 0.001 \
	--sigma 2.0 \
	--lambda_mmd 10.0 \
	--lambda_sparse 0.01 \
	--lambda_ortho 0.1 \
	--lambda_pos 0.9
```

测试

```bash
python /root/zjj/MAT-Steer/validation/my_run_mat_eval.py --checkpoint /root/zjj/MAT-Steer/validation/checkpoints/llama3.1_8B_L14_mat_steer_1427.pt --model_name llama3.1_8B --dataset truthfulqa --seed 42 --device cuda:3 --multiplier 1.0  --tmp seed_42 --baseline --force_recompute --questions_path /root/zjj/MAT-Steer/get_activations/truthfulqa_sampled_400_seed42.csv
```

### 2、1112-1454测试
gemini2.5 pro
调整 lambda 权重以解决冲突，并增大 batch_size。

--lambda_mmd 10.0
--sigma 5.0 
--lambda_sparse 0.01
--lambda_pos 0.9 (不变)
--lambda_ortho 0.1 (不变)
--batch_size 512 (或 512，取决于你的显存)

1112-1454
```bash
python steering_928.py \
    --model_name llama3.1_8B \
	--layer 14 \
	--save_path checkpoints/llama3.1_8B_L14_mat_steer_1454.pt\
	--batch_size 512 \
	--epochs 100 \
	--lr 0.0001 \
	--sigma 5.0 \
	--lambda_mmd 10.0 \
	--lambda_sparse 0.01 \
	--lambda_ortho 0.1 \
	--lambda_pos 0.9
```

测试

```bash
python /root/zjj/MAT-Steer/validation/my_run_mat_eval.py --checkpoint /root/zjj/MAT-Steer/validation/checkpoints/llama3.1_8B_L14_mat_steer_1454.pt --model_name llama3.1_8B --dataset truthfulqa --seed 42 --device cuda:3 --multiplier 1.0  --tmp 1454 --baseline --force_recompute --questions_path /root/zjj/MAT-Steer/get_activations/truthfulqa_sampled_400_seed42.csv
```

全量测试

```bash
python /root/zjj/MAT-Steer/validation/run_seeded_evals.py --checkpoint /root/zjj/MAT-Steer/validation/checkpoints/llama3.1_8B_L14_mat_steer_1454.pt --model_name llama3.1_8B --device cuda:1 --multiplier 1.0 --seeds 42 --baseline --force_recompute
```